{"version":3,"sources":["context/CurrentUserContext.js","utils/api.js","utils/auth.js","images/avatar_type_dark.jpg","images/header__logo.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/Input.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","images/success.svg","images/error.svg","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","createContext","baseUrl","headers","this","_baseUrl","_headers","fetch","then","res","ok","json","Promise","reject","statusText","data","method","body","JSON","stringify","cardId","liked","authorization","BASE_URL","Header","loggedIn","onLogout","email","className","src","logo","alt","onClick","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","aria-label","type","name","link","length","Main","cards","onEditAvatar","onEditProfile","onAddPlace","onLikeClick","onDeleteClick","avatar","about","map","Footer","ImagePopup","selectedCard","onClose","PopupWithForm","props","modalName","isOpen","action","formType","onSubmit","formTitle","children","submitText","Input","placeholder","inputType","description","minLength","min","maxLength","max","onChange","handleChange","value","autoComplete","required","EditProfilePopup","useState","setName","setAbout","useEffect","submitStatus","e","preventDefault","onUpdateUser","setSubmitStatus","target","setAvatar","onUpdateAvatar","id","AddPlacePopup","setLink","DeleteCardPopup","onDeleteCard","deleteCard","Register","handleRegister","setEmail","password","setPassword","to","Login","handleLogin","ProtectedRoute","component","exact","path","InfoTooltip","registered","success","error","App","history","useHistory","setLoggedIn","isToolTipOpen","setIsToolTipOpen","setIsregestered","isAvatarPopupOpen","setIsAvatarPopupOpen","isProfilePopupOpen","setIsProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isDeleteCardPopupOpen","setIsDeleteCardPopupOpen","setSelectedCard","setDeleteCard","setCurrentUser","setCards","closeAllPopups","setEventListener","closeOnEsc","key","closeOutSide","classList","contains","listen","document","addEventListener","removeEventListener","handleCardDelete","api","removeCard","newCards","filter","c","catch","err","console","log","handleTooltip","all","getUserInfo","getCardList","user","cardsList","token","localStorage","getItem","Accept","Authorization","auth","push","Provider","setItem","removeItem","updateLikes","newCard","footerText","userData","setUserInfo","avatarData","setUserAvatar","cardData","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e009698a.chunk.js","sourcesContent":["import { createContext } from 'react';\n\nexport const CurrentUserContext = createContext();","class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  // GET https://around.nomoreparties.co/v1/groupId/cards\n  getCardList() {\n    return fetch(this._baseUrl + '/cards', {\n      headers: this._headers,\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      } else {\n        return Promise.reject('Error! ' + res.statusText);\n      }\n    });\n  }\n\n  // GET https://around.nomoreparties.co/v1/groupId/users/me\n  getUserInfo() {\n    return fetch(this._baseUrl + '/users/me', {\n      headers: this._headers,\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      } else {\n        return Promise.reject('Error! ' + res.statusText);\n      }\n    });\n  }\n\n  // PATCH https://around.nomoreparties.co/v1/groupId/users/me\n  setUserInfo(data) {\n    return fetch(this._baseUrl + '/users/me', {\n      headers: this._headers,\n      method: 'PATCH',\n      body: JSON.stringify(data),\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      } else {\n        return Promise.reject('Error! ' + res.statusText);\n      }\n    });\n  }\n\n  // PATCH https://around.nomoreparties.co/v1/groupId/users/me/avatar\n  setUserAvatar(data) {\n    return fetch(this._baseUrl + '/users/me/avatar', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(data),\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      } else {\n        return Promise.reject('Error! ' + res.statusText);\n      }\n    });\n  }\n\n  // POST https://around.nomoreparties.co/v1/groupId/cards\n  addCard(data) {\n    return fetch(this._baseUrl + '/cards', {\n      headers: this._headers,\n      method: 'POST',\n      body: JSON.stringify(data),\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      } else {\n        return Promise.reject('Error! ' + res.statusText);\n      }\n    });\n  }\n\n  // DELETE https://around.nomoreparties.co/v1/groupId/cards/cardId\n  removeCard(cardId) {\n    return fetch(this._baseUrl + '/cards/' + cardId, {\n      method: 'DELETE',\n      headers: this._headers,\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      } else {\n        return Promise.reject('Error! ' + res.statusText);\n      }\n    });\n  }\n\n  updateLikes(cardId, liked) {\n    let method = 'DELETE';\n    if (liked) method = 'PUT';\n\n    return fetch(this._baseUrl + '/cards/likes/' + cardId, {\n      method: method,\n      headers: this._headers,\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject('Error! ' + res.statusText);\n    });\n  }\n}\n\nexport default new Api({\n  baseUrl: 'https://around.nomoreparties.co/v1/group-6',\n  headers: {\n    authorization: '7de1d63b-0ba0-4390-89a7-2fe6bdf9eada',\n    'Content-Type': 'application/json',\n  },\n});\n","export const BASE_URL = 'https://register.nomoreparties.co';\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ email, password }),\n  })\n    .then((res) => res.json())\n    .then((res) => res)\n    .catch((err) => console.log(err));\n};\n\nexport const login = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ email, password }),\n  })\n    .then((res) => res.json())\n    .then((data) => {\n      if (data) {\n        localStorage.setItem('jwt', data.token);\n        return data;\n      }\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const checkToken = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`,\n    },\n  })\n    .then((res) => res.json())\n    .then((data) => data);\n};\n","export default __webpack_public_path__ + \"static/media/avatar_type_dark.46e6bf6d.jpg\";","export default __webpack_public_path__ + \"static/media/header__logo.4e8e0a1d.svg\";","import logo from '../images/header__logo.svg';\n\nexport default function Header({ loggedIn, onLogout, email }) {\n  return (\n    <header className='header'>\n      <img className='header__logo' src={logo} alt='Around US logo' />\n      <ul className='header__menu'>\n        <li>{loggedIn ? <p className='header__email'>{email}</p> : ''}</li>\n        <li>\n          {loggedIn ? (\n            <button className='header__button' onClick={onLogout}>\n              Log out\n            </button>\n          ) : (\n            ''\n          )}\n        </li>\n      </ul>\n    </header>\n  );\n}\n","import { CurrentUserContext } from '../context/CurrentUserContext';\nimport { useContext } from 'react';\n\nexport default function Card({ card, onCardClick, onCardLike, onCardDelete }) {\n  const currentUser = useContext(CurrentUserContext);\n\n  const isOwn = card.owner._id === currentUser._id;\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n  function handleCardClick() {\n    onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(card);\n  }\n\n  return (\n    <li className='card'>\n      {isOwn && (\n        <button\n          className='card__delete-button'\n          aria-label='Delete button'\n          type='reset'\n          onClick={handleDeleteClick}\n        />\n      )}\n      <img\n        className='card__image'\n        alt={card.name}\n        src={card.link}\n        onClick={handleCardClick}\n      />\n      <div className='card__group'>\n        <h2 className='card__text'>{card.name}</h2>\n        <div className='card__like-container'>\n          <button\n            className={`card__like-button ${\n              isLiked ? 'card__like-button_active' : null\n            }`}\n            aria-label='Like button'\n            type='button'\n            onClick={handleLikeClick}\n          />\n          <p className='card__like-button-count'>{card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  );\n}\n","import Card from './Card';\nimport { CurrentUserContext } from '../context/CurrentUserContext';\nimport { useContext } from 'react';\n\nexport default function Main({\n  cards,\n  onEditAvatar,\n  onEditProfile,\n  onAddPlace,\n  onCardClick,\n  onLikeClick,\n  onDeleteClick,\n}) {\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <main>\n      <section className='profile'>\n        <button className='profile__avatar-edit' onClick={onEditAvatar}>\n          <img\n            className='profile__avatar'\n            src={currentUser.avatar}\n            alt='profile avatar'\n          />\n        </button>\n        <div className='profile__info'>\n          <h1 className='profile__text'>{currentUser.name}</h1>\n          <button\n            className='profile__edit-button'\n            onClick={onEditProfile}\n            aria-label='Edit Avatar'\n            type='button'\n          ></button>\n          <p className='profile__paragraph'>{currentUser.about}</p>\n        </div>\n        <button\n          className='profile__add-button'\n          onClick={onAddPlace}\n          aria-label='Add button'\n          type='button'\n        ></button>\n      </section>\n\n      <section className='elements'>\n        <ul className='elements__list'>\n          {cards.map((card) => (\n            <Card\n              card={card}\n              key={card._id}\n              onCardClick={onCardClick}\n              onCardLike={onLikeClick}\n              onCardDelete={onDeleteClick}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  );\n}\n","export default function Footer() {\n  return (\n    <footer className='footer'>\n      <p className='footer__text'>&copy; 2020 Around The U.S.</p>\n    </footer>\n  );\n}\n","export default function ImagePopup({selectedCard, onClose}) { \n  return ( \n    <div className = {`modal modal_type_image ${selectedCard ? 'modal_is-open' : null}`}> \n        <figure className = \"modal__figure\"> \n          <button className = \"form__close-button form__close-button_type-image\" onClick = {onClose} aria-label = \"Close button\" type = \"button\"></button> \n          <img className = \"modal__image\" src= {selectedCard ? selectedCard.link : null} alt = {selectedCard ? selectedCard.name : null}/> \n          <figcaption className = \"modal__image-title\">{selectedCard ? selectedCard.name : null}</figcaption> \n        </figure> \n      </div> \n  ) \n} ","export default function PopupWithForm(props) {\n  return (\n    <div\n      className={`modal modal_type_${props.modalName} ${\n        props.isOpen && 'modal_is-open'\n      }`}\n    >\n      <form\n        action='#'\n        className={`form form_${props.formType}`}\n        onSubmit={props.onSubmit}\n      >\n        <h3 className='form__title'>{props.formTitle}</h3>\n\n        {props.children}\n\n        <button className='form__button form__button_type_save' type='submit'>\n          {props.submitText}\n        </button>\n        <button\n          className='form__close-button'\n          onClick={props.onClose}\n          aria-label='Close button'\n          type='reset'\n        ></button>\n      </form>\n    </div>\n  );\n}\n","export default function Input(props) {\n  return (\n    <>\n      <input\n        type={props.type}\n        placeholder={props.placeholder}\n        className={`form__input form__input_${props.inputType}`}\n        name={props.name}\n        description={props.description}\n        minLength={props.min}\n        maxLength={props.max}\n        onChange={props.handleChange}\n        value={props.value}\n        autoComplete='off'\n        required\n      />\n    </>\n  );\n}\n","import PopupWithForm from './PopupWithForm';\nimport Input from './Input';\nimport { CurrentUserContext } from '../context/CurrentUserContext';\nimport { useContext, useState, useEffect } from 'react';\n\nexport default function EditProfilePopup(props) {\n  const currentUser = useContext(CurrentUserContext);\n\n  const [name, setName] = useState('');\n  const [about, setAbout] = useState('');\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleAboutChange(e) {\n    setAbout(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name,\n      about,\n    });\n    props.setSubmitStatus(true);\n  }\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setAbout(currentUser.about);\n  }, [currentUser]);\n\n  return (\n    <PopupWithForm\n      modalName='edit_profile'\n      formType='type_profile'\n      formTitle='Edit profile'\n      submitText={props.submitStatus ? 'Saving...' : 'Save'}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <Input\n        type='text'\n        name='profile'\n        placeholder='Name'\n        inputType='type_name'\n        min='2'\n        max='40'\n        handleChange={handleNameChange}\n        value={name}\n      />\n      <Input\n        type='text'\n        name='about'\n        placeholder='About me'\n        inputType='type_about'\n        min='2'\n        max='200'\n        handleChange={handleAboutChange}\n        value={about}\n      />\n    </PopupWithForm>\n  );\n}\n","import PopupWithForm from './PopupWithForm';\nimport Input from './Input';\nimport { useState, useEffect } from 'react';\n\nexport default function EditProfilePopup(props) {\n  const [avatar, setAvatar] = useState('');\n\n  function handleChange(e) {\n    setAvatar(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar,\n    });\n    props.setSubmitStatus(true);\n  }\n\n  useEffect(() => {\n    setAvatar('');\n  }, [props.isOpen]);\n\n  return (\n    <PopupWithForm\n      modalName='type_avatar'\n      formType='type_avatar'\n      formTitle='Edit Profile Picture'\n      submitText={props.submitStatus ? 'Saving...' : 'Save'}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <Input\n        type='url'\n        name='avatar'\n        placeholder='Image Link'\n        inputType='type_avatar'\n        id='avatar-url-error'\n        handleChange={handleChange}\n        value={avatar}\n      />\n    </PopupWithForm>\n  );\n}\n","import { useState, useEffect } from 'react';\n\nimport PopupWithForm from './PopupWithForm';\nimport Input from './Input';\n\nfunction AddPlacePopup(props) {\n  const [name, setName] = useState('');\n  const [link, setLink] = useState('');\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleLinkChange(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onAddPlace({\n      name,\n      link,\n    });\n    props.setSubmitStatus(true);\n    setName('');\n    setLink('');\n  }\n\n  useEffect(() => {\n    setName('');\n    setLink('');\n  }, [props.isOpen]);\n\n  return (\n    <PopupWithForm\n      modalName='type_add-card'\n      formType='type_profile'\n      formTitle='New Place'\n      submitText={props.submitStatus ? 'Creating...' : 'Create'}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <Input\n        type='text'\n        placeholder='Title'\n        inputType='card-title'\n        name='title'\n        id='card-title-error'\n        handleChange={handleNameChange}\n        value={name}\n      />\n      <Input\n        type='url'\n        placeholder='Image Link'\n        inputType='card-url'\n        name='url'\n        id='card-url-error'\n        handleChange={handleLinkChange}\n        value={link}\n      />\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import PopupWithForm from './PopupWithForm';\n\nfunction DeleteCardPopup(props) {\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onDeleteCard(props.deleteCard);\n    props.setSubmitStatus(true);\n  }\n\n  return (\n    <PopupWithForm\n      modalName='type_delete-card'\n      formType='type_profile'\n      formTitle='Are you sure?'\n      submitText={props.submitStatus ? 'Deleting...' : 'Yes'}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      card={props.deleteCard}\n    />\n  );\n}\nexport default DeleteCardPopup;\n","import React, { useState } from 'react';\nimport { NavLink, Link } from 'react-router-dom';\nimport logo from '../images/header__logo.svg';\nimport Input from './Input';\n\nconst Register = ({ handleRegister }) => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  function handleEmailChange(e) {\n    setEmail(e.target.value);\n  }\n\n  function handlePasswordChange(e) {\n    setPassword(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    handleRegister(email, password);\n  }\n\n  return (\n    <div className='page'>\n      <div className='page__container'>\n        <header className='header'>\n          <img className='header__logo' src={logo} alt='Around US logo' />\n          <ul className='header__menu'>\n            <li>\n              <NavLink to='/signin' className='header__link'>\n                Log in\n              </NavLink>\n            </li>\n          </ul>\n        </header>\n        <form className='form__autorization' onSubmit={handleSubmit}>\n          <h2 className='form__title form__title-autorization'>Sign up</h2>\n          <Input\n            name='email'\n            inputType='autorization'\n            placeholder='Email'\n            type='email'\n            handleChange={handleEmailChange}\n            value={email}\n          />\n          <Input\n            name='password'\n            inputType='autorization'\n            placeholder='Password'\n            type='password'\n            handleChange={handlePasswordChange}\n            value={password}\n          />\n          <button\n            className='form__button form__button_autorization'\n            type='submit'\n          >\n            Sign up\n          </button>\n          <Link to='signin' className='form__text'>\n            Already a member? Log in here!\n          </Link>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Register;\n","import React, { useState } from 'react';\nimport { NavLink, Link } from 'react-router-dom';\nimport logo from '../images/header__logo.svg';\nimport Input from './Input';\n\nconst Login = ({ handleLogin }) => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  function handleEmailChange(e) {\n    setEmail(e.target.value);\n  }\n\n  function handlePasswordChange(e) {\n    setPassword(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    handleLogin(email, password);\n  }\n\n  return (\n    <div className='page'>\n      <div className='page__container'>\n        <header className='header'>\n          <img className='header__logo' src={logo} alt='Around US logo' />\n          <ul className='header__menu'>\n            <li>\n              <NavLink to='/signup' className='header__link'>\n                Sign up\n              </NavLink>\n            </li>\n          </ul>\n        </header>\n        <form className='form__autorization' onSubmit={handleSubmit}>\n          <h2 className='form__title form__title-autorization'>Log in</h2>\n          <Input\n            name='email'\n            inputType='autorization'\n            placeholder='Email'\n            type='email'\n            handleChange={handleEmailChange}\n            value={email}\n          />\n          <Input\n            name='password'\n            inputType='autorization'\n            placeholder='Password'\n            type='password'\n            handleChange={handlePasswordChange}\n            value={password}\n          />\n          <button\n            className='form__button form__button_autorization'\n            type='submit'\n          >\n            Log in\n          </button>\n          <Link to='signup' className='form__text'>\n            Not a member yet? Sign up here!\n          </Link>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n","import { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route exact path={props.path}>\n      {props.loggedIn ? props.children : <Redirect to='/signin' />}\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/error.df8eddf6.svg\";","import React from 'react';\nimport success from '../images/success.svg';\nimport error from '../images/error.svg';\n\nconst InfoTooltip = (props) => {\n  return (\n    <div\n      className={`modal modal_type_${props.modalName} ${\n        props.isOpen && 'modal_is-open'\n      }`}\n    >\n      <form className='form form__success'>\n        <img\n          className='form__image'\n          src={props.registered ? success : error}\n          alt='icon'\n        />\n        <p className='form__text-tooltip'>\n          {props.registered\n            ? 'Success! You have now been registered.'\n            : 'Oops, something went wrong! Please try again.'}\n        </p>\n        <button\n          className='form__close-button'\n          onClick={props.onClose}\n          aria-label='Close button'\n          type='reset'\n        ></button>\n      </form>\n    </div>\n  );\n};\n\nexport default InfoTooltip;\n","import { useState, useEffect } from 'react';\nimport { Route, Redirect, Switch, useHistory } from 'react-router-dom';\n\nimport { CurrentUserContext } from '../context/CurrentUserContext';\nimport api from '../utils/api';\nimport * as auth from '../utils/auth';\nimport '../index.css';\n\nimport avatar from '../images/avatar_type_dark.jpg';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from '../components/EditProfilePopup';\nimport EditAvatarPopup from '../components/EditAvatarPopup';\nimport AddPlacePopup from '../components/AddPlacePopup';\nimport DeleteCardPopup from './DeleteCardPopup';\nimport Register from './Register';\nimport Login from './Login';\nimport ProtectedRoute from './ProtectedRoute';\nimport InfoTooltip from './InfoTooltip';\n\nexport default function App() {\n  const history = useHistory();\n\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [email, setEmail] = useState('');\n  const [isToolTipOpen, setIsToolTipOpen] = useState(false);\n  const [registered, setIsregestered] = useState(false);\n\n  const [isAvatarPopupOpen, setIsAvatarPopupOpen] = useState(false);\n  const [isProfilePopupOpen, setIsProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [submitStatus, setSubmitStatus] = useState(false);\n  const [deleteCard, setDeleteCard] = useState(null);\n\n  const [currentUser, setCurrentUser] = useState({\n    name: '',\n    about: '',\n    avatar: avatar,\n  });\n  const [cards, setCards] = useState([]);\n\n  function handleEditAvatarClick() {\n    setIsAvatarPopupOpen(true);\n    setEventListener(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsProfilePopupOpen(true);\n    setEventListener(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n    setEventListener(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setEventListener(true);\n  }\n\n  function handleDeleteCardClick(card) {\n    setDeleteCard(card);\n    setIsDeleteCardPopupOpen(true);\n    setEventListener(true);\n  }\n\n  function closeAllPopups() {\n    setIsAvatarPopupOpen(false);\n    setIsProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsDeleteCardPopupOpen(false);\n    setSelectedCard(null);\n    setSubmitStatus(false);\n    setEventListener(false);\n  }\n\n  function closeOnEsc(e) {\n    if (e.key === 'Escape') {\n      closeAllPopups();\n    }\n  }\n\n  function closeOutSide(e) {\n    if (e.target.classList.contains('modal')) {\n      closeAllPopups();\n    }\n  }\n\n  function setEventListener(listen) {\n    listen\n      ? document.addEventListener('keyup', closeOnEsc)\n      : document.removeEventListener('keyup', closeOnEsc);\n    listen\n      ? document.addEventListener('click', closeOutSide)\n      : document.removeEventListener('click', closeOutSide);\n  }\n\n  function handleUpdateUser(userData) {\n    api\n      .setUserInfo(userData)\n      .then((user) => {\n        setCurrentUser(user);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleUpdateAvatar(avatarData) {\n    api\n      .setUserAvatar(avatarData)\n      .then((user) => {\n        setCurrentUser(user);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api\n      .updateLikes(card._id, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        setCards(newCards);\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleCardDelete(card) {\n    api\n      .removeCard(card._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== card._id);\n        setCards(newCards);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleAddPlaceSubmit(cardData) {\n    api\n      .addCard({ name: cardData.name, link: cardData.link })\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getCardList({})])\n      .then((data) => {\n        const [user, cardsList] = data;\n        setCurrentUser(user);\n        setCards(cardsList);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  // REGISTARTION, LOG IN, LOG OUT, TOKEN CHECK\n  function handleRegister(email, password) {\n    auth\n      .register(email, password)\n      .then((res) => {\n        if (res.data) {\n          setEmail(email);\n          setIsregestered(true);\n          handleTooltip();\n          history.push('/signin');\n          return;\n        }\n        setIsregestered(false);\n        handleTooltip();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleTooltip() {\n    setIsToolTipOpen(true);\n  }\n\n  function handleLogin(email, password) {\n    auth\n      .login(email, password)\n      .then((data) => {\n        if (data.token) {\n          handleLogin();\n          setEmail(email);\n          history.push('/');\n        }\n      })\n      .catch((err) => console.log(err));\n    setLoggedIn(true);\n    setEmail(email);\n  }\n\n  function handleLogout() {\n    localStorage.removeItem('jwt');\n    setLoggedIn(false);\n    setEmail('');\n  }\n\n  function onClose() {\n    setIsToolTipOpen(false);\n  }\n\n  useEffect(() => {\n    const token = localStorage.getItem('jwt');\n    if (token) {\n      auth.checkToken(token).then((res) => {\n        if (res) {\n          setEmail(res.data.email);\n          setLoggedIn(true);\n          history.push('/');\n        }\n      });\n    }\n  }, [history]);\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className='page'>\n        <div className='page__container'>\n          <Switch>\n            <Route path='/signup'>\n              <Register\n                handleTooltip={handleTooltip}\n                handleRegister={handleRegister}\n              />\n            </Route>\n            <Route path='/signin'>\n              <Login handleLogin={handleLogin} loggedIn={loggedIn} />\n            </Route>\n            <ProtectedRoute path='/' loggedIn={loggedIn}>\n              <Header\n                loggedIn={loggedIn}\n                onLogout={handleLogout}\n                email={email}\n              />\n\n              <Main\n                onEditAvatar={handleEditAvatarClick}\n                onEditProfile={handleEditProfileClick}\n                onAddPlace={handleAddPlaceClick}\n                onDeleteClick={handleDeleteCardClick}\n                onCardClick={handleCardClick}\n                cards={cards}\n                onDeleteCard={handleCardDelete}\n                onLikeClick={handleCardLike}\n              />\n            </ProtectedRoute>\n\n            <Route path='/'>\n              {loggedIn ? <Redirect to='/' /> : <Redirect to='/signin' />}\n            </Route>\n          </Switch>\n          <Footer footerText='&copy; 2020 Around The U.S.' />\n        </div>\n\n        <EditProfilePopup\n          isOpen={isProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          submitStatus={submitStatus}\n          setSubmitStatus={setSubmitStatus}\n        />\n        <EditAvatarPopup\n          isOpen={isAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          submitStatus={submitStatus}\n          setSubmitStatus={setSubmitStatus}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n          submitStatus={submitStatus}\n          setSubmitStatus={setSubmitStatus}\n        />\n        <DeleteCardPopup\n          isOpen={isDeleteCardPopupOpen}\n          onClose={closeAllPopups}\n          onDeleteCard={handleCardDelete}\n          submitStatus={submitStatus}\n          setSubmitStatus={setSubmitStatus}\n          deleteCard={deleteCard}\n        />\n\n        <ImagePopup onClose={closeAllPopups} selectedCard={selectedCard} />\n\n        <InfoTooltip\n          isOpen={isToolTipOpen}\n          onClose={onClose}\n          registered={registered}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}